
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="fav_icon2.ico">
    <title>cbt.wisdomschools.org - PHYSICS    Exam</title>
    <script>
         // Disable back navigation
    history.pushState(null, null, location.href);
    window.onpopstate = function () {
        history.go(1);
    };

     let backClickCount = 0;
            let allowBack = false;

            history.pushState(null, null, location.href);

            window.onpopstate = function () {
                if (!allowBack) {
                    backClickCount++;

                    if (backClickCount >= 50) {
                        allowBack = true;
                        alert("You have tried 50 times. Going back now...");
                        history.back();
                        return;
                    }

                    showBackModal();
                }
            };

            function showBackModal() {
                document.getElementById("backModalOverlay").style.display = "flex";
                document.getElementById("passwordContainer").style.display = "none";
                document.getElementById("backPassword").value = "";
               
                document.getElementById("modalButtons").innerHTML = `
                    <button onclick="handleYes()" style="padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; background: limegreen; color: white; font-size: 16px; cursor: pointer;">Yes</button>
                    <button onclick="closeBackModal()" style="padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; background: crimson; color: white; font-size: 16px; cursor: pointer;">No</button>
                `;
            }

            function closeBackModal() {
                document.getElementById("backModalOverlay").style.display = "none";
                history.pushState(null, null, location.href);
            }

            function handleYes() {
                document.getElementById("passwordContainer").style.display = "block";
                document.getElementById("modalButtons").innerHTML = `
                    <button onclick="checkPassword()" style="padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; background: limegreen; color: white; font-size: 16px; cursor: pointer;">Submit</button>
                    <button onclick="closeBackModal()" style="padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; background: crimson; color: white; font-size: 16px; cursor: pointer;">Cancel</button>
                `;
            }

            function checkPassword() {
                const correctPassword = "admin123";
                const enteredPassword = document.getElementById("backPassword").value;

                if (enteredPassword === correctPassword) {
                    allowBack = true;
                    document.getElementById("backModalOverlay").style.display = "none";
                    history.back();
                } else {
                    alert("Incorrect password. Staying on this page.");
                    closeBackModal();
                }
            }
    </script>
</head>
         <div id="backModalOverlay" style="display: none; position: fixed; z-index: 9999; left: 0; top: 0; width: 100vw; height: 100vh; background: rgba(0, 0, 0, 0.8); color: #fff; font-family: Arial, sans-serif; justify-content: center; align-items: center; flex-direction: column;">
                <div id="backModal" style="background: #222; padding: 30px; border-radius: 10px; text-align: center; width: 90%; max-width: 400px;">
                    <p style="font-size: 18px; margin: 0 0 10px;">Do you really want to go back?</p>

                    <div id="passwordContainer" style="display: none;">
                        <p style="margin-top: 10px;">Enter password to go back:</p>
                        <input type="password" id="backPassword" placeholder="Enter password"
                            style="padding: 10px; width: 80%; margin-top: 10px; border-radius: 5px; border: none; font-size: 16px;">
                    </div>

                    <div id="modalButtons" style="margin-top: 20px;">
                        <button onclick="handleYes()" style="padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; background: limegreen; color: white; font-size: 16px; cursor: pointer;">Yes</button>
                        <button onclick="closeBackModal()" style="padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; background: crimson; color: white; font-size: 16px; cursor: pointer;">No</button>
                    </div>
                </div>
            </div>
                      

    <style>
        body {
            position: relative;
            z-index: 1;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f0f8f0;
        }
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('img/mainlogo.png') no-repeat center center;
            background-size: 300px 300px;
            opacity: 0.1;
            z-index: 0;
            pointer-events: none;
        }
        #logout-container {
            text-align: right;
            padding: 10px;
            background: #2c3e50;
        }
        #datetime {
            color: gold;
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            margin: 10px 0;
        }
        #logout {
            background-color: red;
            color: white;
            border: none;
            padding: 8px 16px;
            cursor: pointer;
            font-size: 14px;
            border-radius: 5px;
        }
        #header {
            padding: 20px;
            background: linear-gradient(to right, purple, fuchsia);
            color: white;
            border-bottom: 5px solid #ff9800;
        }
        #logo img {
            max-width: 200px;
            height: auto;
            display: block;
            margin: 0 auto;
        }
        #student-info {
            margin-top: 20px;
            text-align: center;
        }
        #student-image {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            display: block;
            margin: 0 auto 10px;
            border: 3px solid white;
            background: #ddd;
        }
        #welcome-message {
            color: #ffeb3b;
            font-size: 24px;
            font-weight: bold;
            margin: 10px 0;
        }
        #userAnswerCount {
            position: fixed;
            top: 20px;
            left: 20px;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 15px;
            border-radius: 8px;
            color: white;
            text-align: center;
            font-size: 16px;
            font-weight: bold;
            width: 200px;
            z-index: 100;
        }
        #answeredLabel {
            color: lime;
            font-size: 18px;
            font-weight: bold;
            margin: 5px 0;
        }
        #unansweredLabel {
            color: red;
            font-size: 18px;
            font-weight: bold;
            margin: 5px 0;
        }
        .container {
            margin: 20px auto;
            width: 80%;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        #questionText {
            width: 98%;
            min-height: 100px;
            resize: none;
            padding: 15px;
            font-size: 18px;
            color: #333;
            background-color: #f9f9f9;
            border-radius: 5px;
            border: 1px solid #ddd;
            margin-bottom: 15px;
            font-family: Arial, "Segoe UI Symbol", "Apple Symbols", sans-serif;
        }
        .option-group {
            display: flex;
            align-items: center;
            margin: 10px 0;
            padding: 12px;
            background-color: #f5f5f5;
            border-radius: 5px;
            transition: background-color 0.3s;
        }
        .option-group:hover {
            background-color: #e8f5e8;
        }
        .option-group input {
            margin-right: 15px;
            transform: scale(1.3);
        }
        .option-group label {
            font-weight: bold;
            font-size: 16px;
            color: #333;
            font-family: Arial, "Segoe UI Symbol", "Apple Symbols", sans-serif;
        }
        .nav-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        .btn-cool {
            padding: 12px 25px;
            font-size: 16px;
            border: none;
            border-radius: 8px;
            background: #2e7d32;
            color: white;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: bold;
        }
        .btn-cool:hover {
            background: #1b5e20;
        }
        .questionButtons {
            margin: 15px 0;
            text-align: center;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 5px;
        }
        .question-btn {
            margin: 3px;
            padding: 8px 12px;
            border-radius: 6px;
            border: 1px solid #444;
            cursor: pointer;
            font-weight: bold;
            background-color: #eee;
            min-width: 40px;
            transition: all 0.3s;
        }
        .question-btn:hover {
            background-color: #d0f0d0;
        }
        #timer {
            font-size: 24px;
            font-weight: bold;
            color: #e74c3c;
            text-align: center;
            margin: 10px 0;
            background-color: #f9f9f9;
            padding: 10px;
            border-radius: 5px;
            border: 2px solid #e74c3c;
        }
        .section-toggle {
            display: flex;
            justify-content: center;
            margin: 20px 0;
        }
        .section-btn {
            padding: 12px 24px;
            margin: 0 10px;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .section-btn.active {
            background-color: #2e7d32;
            color: white;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        .section-btn:not(.active) {
            background-color: #e0e0e0;
            color: #333;
        }
        #theorySection {
            display: none;
            background: #fff9e6;
            color: #333;
            padding: 20px;
            border-radius: 8px;
            margin: 20px auto;
            width: 80%;
            border: 2px solid #ff9800;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        #theoryQuestionText {
            font-weight: bold;
            font-size: 18px;
            margin-bottom: 15px;
            line-height: 1.6;
            padding: 15px;
            background-color: #fff;
            border-radius: 5px;
            border-left: 5px solid #ff9800;
            font-family: Arial, sans-serif;
        }
        #theoryAnswer {
            width: 100%;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 16px;
            resize: vertical;
            min-height: 200px;
            font-family: Arial, sans-serif;
            margin-bottom: 15px;
        }
        .theory-nav-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        .theory-btn {
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }
        .theory-save-btn {
            background-color: #28a745;
            color: white;
        }
        .theory-save-btn:hover {
            background-color: #218838;
        }
        .theory-prev-btn, .theory-next-btn {
            background-color: #007bff;
            color: white;
        }
        .theory-prev-btn:hover, .theory-next-btn:hover {
            background-color: #0069d9;
        }
        .theory-submit-btn {
            background-color: #dc3545;
            color: white;
        }
        .theory-submit-btn:hover {
            background-color: #c82333;
        }
        .theory-status {
            text-align: center;
            margin: 10px 0;
            font-weight: bold;
            color: #333;
            padding: 10px;
            background-color: #e9ecef;
            border-radius: 5px;
        }
        .windows-activate {
            text-align: center;
            margin-top: 30px;
            color: #333;
            font-size: 14px;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            margin: 20px;
        }
        .exam-info {
            text-align: center;
            font-weight: bold;
            margin: 10px 0;
            color: #2c3e50;
            font-size: 18px;
        }
        /* Math symbols styling */
        sup, sub {
            font-size: 0.75em;
            line-height: 1;
        }
        sup {
            vertical-align: super;
        }
        sub {
            vertical-align: sub;
        }
        /* Theory Question Images */
        .theory-image-container {
            margin: 15px 0;
            text-align: center;
        }
        .theory-image-wrapper {
            display: inline-block;
            max-width: 100%;
            padding: 10px;
            background: white;
            border-radius: 8px;
            border: 1px solid #ddd;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .theory-question-image {
            max-width: 100%;
            max-height: 300px;
            height: auto;
            border-radius: 5px;
            display: block;
            margin: 0 auto;
            background: #f0f0f0;
            padding: 10px;
        }
        .image-caption {
            font-style: italic;
            color: #666;
            margin-top: 8px;
            font-size: 14px;
            text-align: center;
        }
        /* Objective question images */
        #questionImageContainer {
            text-align: center;
            margin: 15px 0;
        }
        .question-image {
            max-width: 100%;
            max-height: 250px;
            height: auto;
            border-radius: 5px;
            border: 1px solid #ddd;
            padding: 5px;
            background: white;
        }
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
    </style>
</head>
<body oncontextmenu="return false">
    <div id="header">
        <div id="logout-container">
            <button id="logout" onclick="logout()">Logout</button>
        </div>
        <div id="logo">
            <img src="img/mainlogo.png" alt="COLLEGE CBT PORTAL">
        </div>
        <div id="student-info">
            <center><strong>ATTENTION! CLICK ON SUBMIT BUTTON BEFORE YOUR TIME IS UP TO SAVE YOUR SCORE</strong></center>
            <center><p id="datetime"></p></center>
              <div id="welcome-message">
            <label id="usernameDisplay"></label>
        </div>
         <div class="student-info">
          <img id="userImage" src="img/default_user.jpg" alt="Student Image" style="width:120px; height:120px; border-radius:50%; border:3px solid #008000; display:block; margin:0 auto;">
      
          <h2 id="username">Student Name</h2>
           </div>

        <!--<img id="userImage" src="img/default_user.jpg" alt="Student Image" style="width:120px; height:120px; border-radius:50%; border:3px solid #008000; display:block; margin:0 auto;">
      
            <center><img id="userImage"><br><br></center>
             <img id="userImage" src="img/default_user.jpg" alt="Student Image">
            <center>Hello: <span id="userName"></span></center>
        </div>-->

    
        <center><h3>WISDOM FOUNDATIONS INTERNATIONAL SCHOOLS ADO EKITI </h3></center> 
        <center><h3>FIRST TERM EXAMINATION 2025/2026 ACADEMIC SESSION</h3></center>
       
        <!-- SECTION TOGGLE BUTTONS -->
        <div class="section-toggle">
            <button id="objectivesBtn" class="section-btn active" onclick="showSection('objectives')">OBJECTIVE QUESTIONS</button>
            <button id="theoryBtn" class="section-btn" onclick="showSection('theory')">THEORY QUESTIONS</button>
        </div>
       
        <div class="exam-info">
            Exam: <span id="examInfo" style="color: lime;">   PHYSICS    - SS2 (FIRST TERM)</span>
        </div>
       
        <div id="timer"></div>
    </div>
   
    <!-- OBJECTIVES SECTION -->
    <div id="objectivesSection">
        <div class="container">
            <h5 style="color: #d35400; text-align: center;">INSTRUCTIONS: READ THE QUESTIONS CAREFULLY BEFORE YOU CHOOSE YOUR ANSWER</h5>
            <div class="scroll-container">
                <div id="questionText"></div>
            </div>
           
            <div id="questionImageContainer"></div>
           
            <div class="option-group">
                <label class="option"><strong>A.</strong><input type="radio" name="option" value="A"> <span id="optA"></span></label>
            </div>
            <div class="option-group">
                <label class="option"><strong>B.</strong><input type="radio" name="option" value="B"> <span id="optB"></span></label>
            </div>
            <div class="option-group">
                <label class="option"><strong>C.</strong><input type="radio" name="option" value="C"> <span id="optC"></span></label>
            </div>
            <div class="option-group">
                <label class="option"><strong>D.</strong><input type="radio" name="option" value="D"> <span id="optD"></span></label>
            </div>
        </div>
       
        <div class="nav-buttons">
            <button onclick="prevQuestion()" class="btn-cool">Previous</button>
            <button onclick="nextQuestion()" class="btn-cool">Next</button>
            <button onclick="submitExam()" class="btn-cool">Submit Objectives</button>
        </div>
       
        <!-- Question navigation buttons -->
        <div class="container">
            <div id="questionButtons" class="questionButtons"></div>
        </div>
    </div>
   
    <!-- THEORY SECTION -->
    <div id="theorySection">
        <h3 style="text-align: center; color: #d35400; margin-bottom: 20px;">THEORY QUESTIONS SECTION</h3>
        <div class="theory-status" id="theoryStatus">
            Question 1 of 5 | Saved: 0/5
        </div>
        <div id="theoryQuestionContainer">
            <p id="theoryQuestionText">Loading theory questions...</p>
            <div id="theoryImageContainer"></div>
            <textarea id="theoryAnswer" rows="8" placeholder="Write your detailed answer here..."></textarea>
            <div class="theory-nav-buttons">
                <button onclick="prevTheoryQuestion()" class="theory-btn theory-prev-btn">Previous</button>
                <button onclick="saveTheoryAnswer()" class="theory-btn theory-save-btn">Save Answer</button>
                <button onclick="nextTheoryQuestion()" class="theory-btn theory-next-btn">Next</button>
                <button onclick="submitTheoryExam()" class="theory-btn theory-submit-btn">Submit Theory</button>
            </div>
        </div>
    </div>
   
    <div id="userAnswerCount">
        <p id="answeredLabel">Answered: 0/5</p>
        <p id="unansweredLabel">Unanswered: 5/5</p>
    </div>
   
    <div class="windows-activate">
        <p> &copy; cbt.wisdomschools.org</p>
    </div>

    <script>
           // Get stored username and image from sessionStorage
       
            
    
        // ================== STATIC QUESTIONS DATA ==================
   const staticObjectivesQuestions = [
 { "id": 1,
      "question": "The SI unit of heat energy is",
      "options": {
        "A": "Calorie",
        "B": "Joule",
        "C": "Watt",
        "D": "Kelvin"
      },
      "answer": "B"
    },
    { "id": 2,
      "question": "Specific heat capacity is measured in",
      "options": {
        "A": "J/kg",
        "B": "J/kg·K",
        "C": "J/K",
        "D": "J·kg"
      },
      "answer": "B"
    },
    { "id": 3,
      "question": "1 calorie is equal to",
      "options": {
        "A": "4.186 J",
        "B": "4186 J",
        "C": "0.4186 J",
        "D": "1 J"
      },
      "answer": "A"
    },
    { "id": 4,
      "question": "The heat required to raise the temperature of 1 g of water by 1°C is",
      "options": {
        "A": "1 calorie",
        "B": "1 joule",
        "C": "4.186 calorie",
        "D": "4186 joule"
      },
      "answer": "A"
    },
    { "id": 5,
      "question": "Latent heat of fusion of ice is",
      "options": {
        "A": "336 J/g",
        "B": "2260 J/g",
        "C": "3.36 × 10⁵ J/kg",
        "D": "Both A & C"
      },
      "answer": "D"
    },
    { "id": 6,
      "question": "When a hot body is placed in contact with a cold body, heat flows until they reach",
      "options": {
        "A": "Same temperature",
        "B": "Thermal equilibrium",
        "C": "Both A & B",
        "D": "None"
      },
      "answer": "C"
    },
    { "id": 7,
      "question": "The principle of calorimetry states that",
      "options": {
        "A": "Heat lost = Heat gained",
        "B": "Heat lost > Heat gained",
        "C": "Heat lost < Heat gained",
        "D": "Heat is created"
      },
      "answer": "A"
    },
    { "id": 8,
      "question": "The lower fixed point on Celsius scale is",
      "options": {
        "A": "Melting point of ice",
        "B": "Boiling point of water",
        "C": "Absolute zero",
        "D": "Room temperature"
      },
      "answer": "A"
    },
    { "id": 9,
      "question": "The temperature of steam point on Celsius scale is",
      "options": {
        "A": "0°C",
        "B": "100°C",
        "C": "273 K",
        "D": "373 K"
      },
      "answer": "B"
    },
    { "id": 10,
      "question": "To convert Celsius to Kelvin, we add",
      "options": {
        "A": "100",
        "B": "273",
        "C": "32",
        "D": "459.67"
      },
      "answer": "B"
    },
    { "id": 11,
      "question": "The fixed points used for calibrating a thermometer are",
      "options": {
        "A": "Ice point and steam point",
        "B": "Freezing point and boiling point of alcohol",
        "C": "Triple point of water only",
        "D": "Room temperature"
      },
      "answer": "A"
    },
    { "id": 12,
      "question": "A thermometer reads 50°C. Its reading in Fahrenheit is",
      "options": {
        "A": "122°F",
        "B": "132°F",
        "C": "100°F",
        "D": "32°F"
      },
      "answer": "A"
    },
    { "id": 13,
      "question": "The relation between Celsius (C), Fahrenheit (F), and Kelvin (K) is",
      "options": {
        "A": "C/100 = (F−32)/180 = (K−273)/100",
        "B": "C/100 = (F−32)/100",
        "C": "F/180 = K/273",
        "D": "None"
      },
      "answer": "A"
    },
    { "id": 14,
      "question": "Like charges",
      "options": {
        "A": "Attract",
        "B": "Repel",
        "C": "Neither attract nor repel",
        "D": "First attract then repel"
      },
      "answer": "B"
    },
    { "id": 15,
      "question": "The smallest unit of charge found in nature is",
      "options": {
        "A": "Charge on proton",
        "B": "Charge on electron",
        "C": "Both have same magnitude",
        "D": "Coulomb"
      },
      "answer": "C"
    },
    { "id": 16,
      "question": "Charging by rubbing is due to",
      "options": {
        "A": "Transfer of electrons",
        "B": "Transfer of protons",
        "C": "Transfer of neutrons",
        "D": "Induction"
      },
      "answer": "A"
    },
    { "id": 17,
      "question": "Gold leaf electroscope is used to",
      "options": {
        "A": "Detect charge",
        "B": "Measure charge",
        "C": "Identify nature of charge",
        "D": "All of these"
      },
      "answer": "D"
    },
    { "id": 18,
      "question": "SI unit of electric charge is",
      "options": {
        "A": "Ampere",
        "B": "Volt",
        "C": "Coulomb",
        "D": "Ohm"
      },
      "answer": "C"
    },
    { "id": 19,
      "question": "In a simple voltaic cell, the positive terminal (cathode) is",
      "options": {
        "A": "Zinc",
        "B": "Copper",
        "C": "Carbon",
        "D": "Aluminium"
      },
      "answer": "B"
    },
    { "id": 20,
      "question": "The electrolyte commonly used in dry cell is",
      "options": {
        "A": "Ammonium chloride paste",
        "B": "Dilute H₂SO₄",
        "C": "NaCl",
        "D": "CuSO₄"
      },
      "answer": "A"
    },
    { "id": 21,
      "question": "The emf of a standard Daniell cell is",
      "options": {
        "A": "1.1 V",
        "B": "1.5 V",
        "C": "2.0 V",
        "D": "1.08 V"
      },
      "answer": "A"
    },
    { "id": 22,
      "question": "In a primary cell, chemical energy is converted into",
      "options": {
        "A": "Electrical energy",
        "B": "Heat energy",
        "C": "Mechanical energy",
        "D": "Light energy"
      },
      "answer": "A"
    },
    { "id": 23,
      "question": "Ohm’s law is valid when",
      "options": {
        "A": "Temperature is constant",
        "B": "Temperature varies",
        "C": "Only for metals",
        "D": "Only for semiconductors"
      },
      "answer": "A"
    },
    { "id": 24,
      "question": "The resistance of a wire is doubled if",
      "options": {
        "A": "Length is doubled",
        "B": "Area is doubled",
        "C": "Both length and area doubled",
        "D": "Length halved, area halved"
      },
      "answer": "A"
    },
    { "id": 25,
      "question": "The slope of V-I graph gives",
      "options": {
        "A": "Resistance",
        "B": "Conductance",
        "C": "1/Resistance",
        "D": "Current"
      },
      "answer": "A"
    },
    { "id": 26,
      "question": "Ohm’s law in the form of equation is",
      "options": {
        "A": "V = IR",
        "B": "I = VR",
        "C": "R = VI",
        "D": "V = I/R"
      },
      "answer": "A"
    },
    { "id": 27,
      "question": "In a series combination, total resistance is",
      "options": {
        "A": "Sum of individual resistances",
        "B": "Reciprocal sum",
        "C": "Product of resistances",
        "D": "Minimum resistance"
      },
      "answer": "A"
    },
    { "id": 28,
      "question": "In parallel combination, total resistance is",
      "options": {
        "A": "Greater than individual",
        "B": "Less than the smallest resistance",
        "C": "Equal to largest",
        "D": "Zero"
      },
      "answer": "B"
    },
    { "id": 29,
      "question": "The commercial unit of electrical energy is",
      "options": {
        "A": "Joule",
        "B": "Watt",
        "C": "kWh",
        "D": "Volt"
      },
      "answer": "C"
    },
    { "id": 30,
      "question": "1 kWh =",
      "options": {
        "A": "3.6 × 10⁶ J",
        "B": "3.6 × 10⁵ J",
        "C": "1000 J",
        "D": "3600 J"
      },
      "answer": "A"
    },
    { "id": 31,
      "question": "Electrical power is given by",
      "options": {
        "A": "P = VI",
        "B": "P = V²/R",
        "C": "P = I²R",
        "D": "All of these"
      },
      "answer": "D"
    },
    { "id": 32,
      "question": "An electric bulb is rated 220 V, 100 W. Its resistance is",
      "options": {
        "A": "484 Ω",
        "B": "400 Ω",
        "C": "500 Ω",
        "D": "220 Ω"
      },
      "answer": "A"
    },
    { "id": 33,
      "question": "The cost of using a 1000 W heater for 3 hours at ₹5 per unit is",
      "options": {
        "A": "₹15",
        "B": "₹10",
        "C": "₹5",
        "D": "₹20"
      },
      "answer": "A"
    },
    { "id": 34,
      "question": "Brownian motion supports",
      "options": {
        "A": "Particle nature of matter",
        "B": "Wave nature",
        "C": "Both",
        "D": "None"
      },
      "answer": "A"
    },
    { "id": 35,
      "question": "Diffusion is faster in gases because",
      "options": {
        "A": "Particles are far apart and move randomly",
        "B": "Particles are closely packed",
        "C": "Gases have no mass",
        "D": "Gases are incompressible"
      },
      "answer": "A"
    },
    { "id": 36,
      "question": "The evidence for particles of matter being in continuous motion is",
      "options": {
        "A": "Diffusion",
        "B": "Brownian motion",
        "C": "Both",
        "D": "Osmosis"
      },
      "answer": "C"
    },
    { "id": 37,
      "question": "Electric field intensity is a",
      "options": {
        "A": "Scalar quantity",
        "B": "Vector quantity",
        "C": "Tensor",
        "D": "None"
      },
      "answer": "B"
    },
    { "id": 38,
      "question": "The SI unit of electric field intensity is",
      "options": {
        "A": "N/C",
        "B": "V/m",
        "C": "Both A & B",
        "D": "Tesla"
      },
      "answer": "C"
    },
    { "id": 39,
      "question": "Electric field lines",
      "options": {
        "A": "Start from positive charge and end on negative charge",
        "B": "Form closed loops",
        "C": "Are parallel for uniform field",
        "D": "Both A & C"
      },
      "answer": "D"
    },
    { "id": 40,
      "question": "The work done in moving a charge in an electrostatic field along a closed path is",
      "options": {
        "A": "Zero",
        "B": "Infinite",
        "C": "Positive",
        "D": "Negative"
      },
      "answer": "A"
    },
    { "id": 41,
      "question": "Gravitational field is always",
      "options": {
        "A": "Attractive",
        "B": "Repulsive",
        "C": "Both",
        "D": "Zero"
      },
      "answer": "A"
    },
    { "id": 42,
      "question": "Electric field inside a hollow charged conductor is",
      "options": {
        "A": "Zero",
        "B": "Maximum",
        "C": "Uniform",
        "D": "Infinite"
      },
      "answer": "A"
    },
    { "id": 43,
      "question": "Gauss’s law relates electric field to",
      "options": {
        "A": "Charge enclosed",
        "B": "Distance",
        "C": "Area",
        "D": "Volume"
      },
      "answer": "A"
    },
    { "id": 44,
      "question": "The gravitational field inside a hollow sphere is",
      "options": {
        "A": "Zero",
        "B": "Constant",
        "C": "Varies as 1/r²",
        "D": "Infinite"
      },
      "answer": "A"
    },
    { "id": 45,
      "question": "Electric potential is a scalar quantity with unit",
      "options": {
        "A": "Volt",
        "B": "Joule",
        "C": "Coulomb",
        "D": "Newton"
      },
      "answer": "A"
    },
    { "id": 46,
      "question": "The potential difference between two points is 1 volt if 1 joule of work is done in moving 1 coulomb charge from one point to another.",
      "options": {
        "A": "True",
        "B": "False"
      },
      "answer": "A"
    },
    { "id": 47,
      "question": "Equipotential surfaces for a point charge are",
      "options": {
        "A": "Spherical",
        "B": "Plane",
        "C": "Cylindrical",
        "D": "Conical"
      },
      "answer": "A"
    },
    { "id": 48,
      "question": "Electric field is perpendicular to",
      "options": {
        "A": "Equipotential surface",
        "B": "Conductor surface",
        "C": "Both",
        "D": "None"
      },
      "answer": "C"
    },
    { "id": 49,
      "question": "The direction of electric field due to a positive charge is",
      "options": {
        "A": "Away from the charge",
        "B": "Towards the charge",
        "C": "Tangential",
        "D": "Zero"
      },
      "answer": "A"
    },
    { "id": 50,
      "question": "Coulomb’s law is similar to Newton’s law of gravitation except that electrostatic force can be",
      "options": {
        "A": "Attractive or repulsive",
        "B": "Only attractive",
        "C": "Only repulsive",
        "D": "Zero"
      },
      "answer": "A"
    }
];

 const staticTheoryQuestions = [
              {
      "id": 1,
      "question": "Explain the principle of calorimetry. A copper block of mass 500 g at 100°C is dropped into 200 g of water at 20°C contained in a copper calorimeter of mass 150 g and specific heat 0.1 cal/g°C. The initial temperature of the calorimeter is also 20°C. Find the final equilibrium temperature of the system. (Specific heat of copper = 0.1 cal/g°C, specific heat of water = 1 cal/g°C)",
      "marks": null
    },
    {
      "id": 2,
      "question": "(a) Describe the process of calibrating a laboratory thermometer using the ice point and steam point. (b) A faulty thermometer reads 2°C at the ice point and 98°C at the steam point. If it shows 45°C, what is the correct temperature on the Celsius scale? Derive and use the necessary correction formula.",
      "marks": null
    },
    {
      "id": 3,
      "question": "State and explain the different methods of charging a body. Describe with a neat labelled diagram how a gold-leaf electroscope can be used to (i) detect the presence of charge, (ii) identify the nature of charge, and (iii) compare the quantities of charge on two charged bodies.",
      "marks": null
    },
    {
      "id": 4,
      "question": "With a neat labelled diagram, explain the construction and working of a simple voltaic cell. Why does the emf of a simple voltaic cell fall rapidly during use? How is this defect removed in a Daniell cell? Mention one advantage of a secondary cell over a primary cell.",
      "marks": null
    },
    {
      "id": 5,
      "question": "(a) State Ohm’s law. Establish the relation V = IR graphically. (b) A wire of resistivity ρ is stretched so that its length becomes 3 times and area becomes 1/3rd of the original. Find the ratio of new resistance to original resistance. (c) Give two limitations of Ohm’s law.",
      "marks": null
    },
    {
      "id": 6,
      "question": "(a) Derive the expressions for electrical power in the form P = VI, P = I²R and P = V²/R. (b) Two resistors of 4 Ω and 6 Ω are connected in parallel across a 12 V battery. Calculate: (i) total resistance of the combination, (ii) current drawn from the battery, (iii) power consumed by each resistor and total power.",
      "marks": null
    },
    {
      "id": 7,
      "question": "Describe the kinetic theory of matter. How does it explain the following observations: (a) Brownian motion, (b) Diffusion of gases, (c) Compressibility of gases being much greater than that of solids and liquids, (d) Gases exert pressure on the walls of the container.",
      "marks": null
    },
    {
      "id": 8,
      "question": "(a) Define electric field intensity and electric potential at a point. Write their SI units and mention whether they are scalar or vector quantities. (b) Show that the electric field is perpendicular to the equipotential surface. (c) Draw the pattern of electric field lines due to: (i) a positive point charge, (ii) two equal positive charges placed close to each other, (iii) an electric dipole.",
      "marks": null
    },
    {
      "id": 9,
      "question": "(a) State Gauss’s law in electrostatics. Using it, prove that the electric field inside a charged hollow conducting sphere is zero. (b) Explain the phenomenon of electrostatic shielding. Why is it safe to stay inside a car during a lightning strike?",
      "marks": null
    },
    {
      "id": 10,
      "question": "Write a detailed comparison between electrostatic force and gravitational force on the basis of: (a) Nature of force, (b) Dependence on medium, (c) Relative strength, (d) Mathematical form of the law, (e) Field lines and field behaviour inside a hollow sphere/conductor.",
      "marks": null
    }
    
];
        // ================== APPLICATION VARIABLES ==================
        let questions = [];
        let currentQuestion = 0;
        let userAnswers = [];
        let theoryQuestions = [];
        let currentTheory = 0;
        let theoryAnswers = [];
        let currentSection = 'objectives';
       
        // ================== INITIALIZATION ==================
        window.onload = function () {
            // Extract exam info from the page
            const examInfoElement = document.getElementById('examInfo');
            if (examInfoElement) {
                const examInfoText = examInfoElement.textContent;
                // Parse the text to extract subject and class
                // This is a simple example - adjust based on your actual text format
                localStorage.setItem('examSubject', 'EXAMINATION');
                localStorage.setItem('examClass', 'RERSULT');
            }
            localStorage.setItem('examTerm', 'FIRST TERM 2025/2026');
             /*let username = sessionStorage.getItem('username');
             const userImage = sessionStorage.getItem('image');
            document.getElementById("usernameDisplay").innerText = "WELCOME:" + " " + username;
            document.getElementById('userImage').src = "img/student.png";
            document.getElementById('userName').innerText = username;
            document.getElementById('userImage').src = userImage;


            const username = sessionStorage.getItem('username') || 'Student';
            const userImageFile = sessionStorage.getItem('image');
            const userImagePath = userImageFile ? `img/${userImageFile}` : 'img/default_user.jpg';

            // Set username
            const usernameElements = [document.getElementById('userName'), document.getElementById('usernameDisplay')];
            usernameElements.forEach(el => { if(el) el.innerText = username; });

            // Set user image
            const userImageElement = document.getElementById('userImage');
            if(userImageElement){
                userImageElement.src = userImagePath;
                userImageElement.onerror = function(){
                    this.src = 'img/default_user.jpg'; // fallback if image not found
                };
            }*/
             const username = sessionStorage.getItem('username');
                const image = sessionStorage.getItem('image');

                if (!username) {
                  window.location.href = 'index.html';
                } else {
                  document.getElementById('username').innerText = username;
                  
              
                document.getElementById('userImage').src =
              'img/' + (sessionStorage.getItem('image') || 'default_user.jpg');
                }
           
            // Load static questions
            questions = staticObjectivesQuestions;
            theoryQuestions = staticTheoryQuestions;
           
            userAnswers = new Array(questions.length);
            theoryAnswers = new Array(theoryQuestions.length).fill('');
           
            updateDateTime();
            setInterval(updateDateTime, 1000);
           
            displayQuestion();
            renderQuestionButtons();
            countUserSelections();
            updateTheoryStatus();
        };
       
        // ================== TIMER ==================
        let timeLeft = 90 * 60; // 60 minutes
        const timerEl = document.getElementById('timer');
        const timerInterval = setInterval(() => {
            let min = Math.floor(timeLeft / 60);
            let sec = timeLeft % 60;
            timerEl.textContent = `Time Remaining: ${min}:${sec < 10 ? '0' + sec : sec}`;
            timeLeft--;
           
            // Change color when time is running out
            if (timeLeft < 300) { // 5 minutes
                timerEl.style.color = 'red';
                timerEl.style.animation = 'pulse 1s infinite';
            }
           
            if (timeLeft < 0) {
                clearInterval(timerInterval);
                alert("Time is up! Your exam will be submitted automatically.");
                submitExam();
            }
        }, 1000);
       
        // ================== SECTION TOGGLE ==================
        function showSection(section) {
            currentSection = section;
            // Update button states
            document.getElementById('objectivesBtn').classList.toggle('active', section === 'objectives');
            document.getElementById('theoryBtn').classList.toggle('active', section === 'theory');
           
            // Show/hide sections
            document.getElementById('objectivesSection').style.display = section === 'objectives' ? 'block' : 'none';
            document.getElementById('theorySection').style.display = section === 'theory' ? 'block' : 'none';
           
            // Update navigation
            if (section === 'theory') {
                displayTheoryQuestion();
            }
        }
       
        // ================== MATH SYMBOL MAPPING ==================
        function mapMathSymbol(text) {
            if (!text) return '';
           
            return text
                .replace(/&theta;/g, 'θ')
                .replace(/&Theta;/g, 'Θ')
                .replace(/&pi;/g, 'π')
                .replace(/&Pi;/g, 'Π')
                .replace(/&alpha;/g, 'α')
                .replace(/&beta;/g, 'β')
                .replace(/&gamma;/g, 'γ')
                .replace(/&delta;/g, 'δ')
                .replace(/&epsilon;/g, 'ε')
                .replace(/&phi;/g, 'φ')
                .replace(/&omega;/g, 'ω')
                .replace(/&mu;/g, 'μ')
                .replace(/&sigma;/g, 'σ')
                .replace(/&lambda;/g, 'λ')
                .replace(/&radic;/g, '√')
                .replace(/&infin;/g, '∞')
                .replace(/&int;/g, '∫')
                .replace(/&sum;/g, '∑')
                .replace(/&prod;/g, '∏')
                .replace(/&part;/g, '∂')
                .replace(/&deg;/g, '°')
                .replace(/&times;/g, '×')
                .replace(/&divide;/g, '÷')
                .replace(/&plusmn;/g, '±')
                .replace(/&le;/g, '≤')
                .replace(/&ge;/g, '≥')
                .replace(/&ne;/g, '≠')
                .replace(/&frac12;/g, '½')
                .replace(/&frac14;/g, '¼')
                .replace(/&frac34;/g, '¾')
                .replace(/\^(\d+)/g, '<sup>$1</sup>')
                .replace(/\^\(([^)]+)\)/g, '<sup>$1</sup>')
                .replace(/_(\d+)/g, '<sub>$1</sub>')
                .replace(/_\(([^)]+)\)/g, '<sub>$1</sub>');
        }
       
        // ================== OBJECTIVES FUNCTIONS ==================
        function saveAnswer() {
            const selected = document.querySelector('input[name="option"]:checked');
            if (selected) {
                userAnswers[currentQuestion] = selected.value;
                countUserSelections();
            }
        }
       
        function displayQuestion() {
            if (currentQuestion >= questions.length) return;
           
            const q = questions[currentQuestion];
           
            // Apply math symbol mapping
            const questionText = mapMathSymbol(q.question);
            const optA = mapMathSymbol(q.options.A);
            const optB = mapMathSymbol(q.options.B);
            const optC = mapMathSymbol(q.options.C);
            const optD = mapMathSymbol(q.options.D);
           
            // Display question and options
            document.getElementById('questionText').innerHTML = `${currentQuestion + 1}. ${questionText}`;
            document.getElementById('optA').innerHTML = optA;
            document.getElementById('optB').innerHTML = optB;
            document.getElementById('optC').innerHTML = optC;
            document.getElementById('optD').innerHTML = optD;
           
            // Handle question image
            const imageContainer = document.getElementById('questionImageContainer');
            if (q.image) {
                imageContainer.innerHTML = `
                    <div class="theory-image-wrapper">
                        <img src="${q.image}" alt="Question Diagram" class="question-image">
                    </div>
                `;
            } else {
                imageContainer.innerHTML = '';
            }
           
            // Clear and set radio buttons
            const radios = document.getElementsByName('option');
            radios.forEach(r => r.checked = false);
           
            if (userAnswers[currentQuestion]) {
                document.querySelector(`input[name="option"][value="${userAnswers[currentQuestion]}"]`).checked = true;
            }
           
            highlightCurrentButton();
        }
       
        function nextQuestion() {
            saveAnswer();
            if (currentQuestion < questions.length - 1) {
                currentQuestion++;
                displayQuestion();
            }
        }
       
        function prevQuestion() {
            saveAnswer();
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion();
            }
        }
       
        function renderQuestionButtons() {
            const container = document.getElementById('questionButtons');
            container.innerHTML = '';
           
            for (let i = 0; i < questions.length; i++) {
                const btn = document.createElement('button');
                btn.textContent = i + 1;
                btn.className = 'question-btn';
                btn.onclick = () => {
                    saveAnswer();
                    currentQuestion = i;
                    displayQuestion();
                };
                container.appendChild(btn);
            }
            highlightCurrentButton();
        }
       
        function highlightCurrentButton() {
            document.querySelectorAll('.question-btn').forEach((btn, index) => {
                const answered = userAnswers[index] !== undefined;
                const current = index === currentQuestion;
               
                btn.style.backgroundColor = current ? '#5cb85c' : (answered ? '#337ab7' : '#eee');
                btn.style.color = current || answered ? 'white' : 'black';
                btn.style.border = current ? '2px solid #2e7d32' : '1px solid #444';
            });
        }
       
        function countUserSelections() {
            let totalQuestions = questions.length;
            let answeredCount = userAnswers.filter(answer => answer !== undefined).length;
            let unansweredCount = totalQuestions - answeredCount;
           
            document.getElementById("answeredLabel").innerText = `Answered: ${answeredCount}/${totalQuestions}`;
            document.getElementById("unansweredLabel").innerText = `Unanswered: ${unansweredCount}`;
        }
       
        /*function submitExam() {
            saveAnswer();
            let score = 0;
            questions.forEach((q, i) => {
                if (userAnswers[i] === q.answer) score++;
            });
           
            clearInterval(timerInterval);
            alert(`Objective Exam Completed!\nYour Score: ${score} out of ${questions.length}`);
        }*/
         function submitExam() {
            saveAnswer();
            showResult();
        }
       
        /*function showResult() {
            clearInterval(timerInterval);
            let score = 0;
            questions.forEach((q, i) => {
                if (userAnswers[i] === q.answer) score++;
            });
           
            const username = localStorage.getItem("username") || "Guest";
            localStorage.setItem("examUser", username);
            localStorage.setItem("examScore", score);
            localStorage.setItem("totalQuestions", questions.length);


            // Save exam data before going to result page
            localStorage.setItem("student_name", username);
            localStorage.setItem("student_class", selectedClass);
            localStorage.setItem("exam_subject", selectedSubject);
            localStorage.setItem("student_image", studentImageURL);
            localStorage.setItem("exam_score", score);
            localStorage.setItem("total_questions", totalQuestions);

                // Redirect to results page
                window.location.href = "results.html";
           
            alert(`Objective Exam Completed!\nYour Score: ${score} out of ${questions.length}`);
            window.location.href = "results.html";
        }*/
        /*function showResult() {
            clearInterval(timerInterval);
            let score = 0;
            questions.forEach((q, i) => {
                if (userAnswers[i] === q.answer) score++;
            });
           
            const username = localStorage.getItem("username") || "Guest";
            const cls = sessionStorage.getItem("class");
            const sub = sessionStorage.getItem("subject");
           
            localStorage.setItem("examUser", username);
            localStorage.setItem("examScore", score);
            localStorage.setItem("totalQuestions", questions.length);
            localStorage.setItem("examInfo", document.getElementById('examInfo').textContent.trim());
           
            // ✅ Mark exam as completed
            if (cls && sub) {
                const attempts = getExamAttempts(cls);
                if (!attempts[username]) {
                    attempts[username] = {};
                }
                attempts[username][sub] = true;
                saveExamAttempts(cls, attempts);
            }
           
            alert(`Objective Exam Completed!\nYour Score: ${score} out of ${questions.length}`);
            window.location.href = "results.html";
    }*/
       function showResult() {
                    clearInterval(timerInterval);
                    let score = 0;
                    questions.forEach((q, i) => {
                        if (userAnswers[i] === q.answer) score++;
                    });
                   
                    const username = sessionStorage.getItem('username') || "Guest";
                    const cls = sessionStorage.getItem('class');
                    const sub = sessionStorage.getItem('subject');
                   
                    localStorage.setItem("examUser", username);
                    localStorage.setItem("examScore", score);
                    localStorage.setItem("totalQuestions", questions.length);
                    localStorage.setItem("pendingClass", cls);
                    localStorage.setItem("pendingSubject", sub);
                    localStorage.setItem("pendingUsername", username);
                   
                    // ✅ Get exam info from sessionStorage or use default
                    const examInfo = sessionStorage.getItem('examInfo') || 'EXAMINATION - RERSULT (FIRST TERM)';
                    localStorage.setItem("examInfo", examInfo);
                   
                    // ✅ DO NOT mark exam as completed here - wait for confirmation on results page
                    console.log(`Exam completed but not marked as attempted yet. Waiting for confirmation.`);
                   
                    alert(`Objective Exam Completed!\nYour Score: ${score} out of ${questions.length}\n\nClick OK to view your results and confirm your attempt.`);
                    window.location.href = "results.html";
        }

            // Add these helper functions to your exam page
            function getExamAttempts(cls) {
                const key = `${cls}_exam_attempts`;
                const stored = localStorage.getItem(key);
                return stored ? JSON.parse(stored) : {};
            }

            function saveExamAttempts(cls, data) {
                const key = `${cls}_exam_attempts`;
                localStorage.setItem(key, JSON.stringify(data));
            }
                   
        // ================== THEORY QUESTIONS ==================
        function displayTheoryQuestion() {
            if (theoryQuestions.length === 0) {
                document.getElementById('theoryQuestionText').innerText = "No theory questions available.";
                return;
            }
           
            const tq = theoryQuestions[currentTheory];
           
            // Display question text (without math symbol mapping for theory)
            document.getElementById('theoryQuestionText').innerText = mapMathSymbol(`${currentTheory + 1}. ${tq.question} ${tq.marks ? `[${tq.marks} marks]` : ''}`);
                
            document.getElementById('theoryAnswer').value = theoryAnswers[currentTheory] || "";
           
            // Handle theory question image
            const theoryImageContainer = document.getElementById('theoryImageContainer');
            if (tq.image) {
                theoryImageContainer.innerHTML = `
                    <div class="theory-image-wrapper">
                        <img src="${tq.image}" alt="Theory Question Diagram" class="theory-question-image">
                        <div class="image-caption">${tq.imageCaption || 'Diagram for question'}</div>
                    </div>
                `;
            } else {
                theoryImageContainer.innerHTML = '';
            }
           
            updateTheoryStatus();
        }
       
        function updateTheoryStatus() {
            const savedCount = theoryAnswers.filter(answer => answer.trim() !== "").length;
            document.getElementById("theoryStatus").innerText =
                `Question ${currentTheory + 1} of ${theoryQuestions.length} | Saved: ${savedCount}/${theoryQuestions.length}`;
        }
       
        function saveTheoryAnswer() {
            const answer = document.getElementById('theoryAnswer').value.trim();
            theoryAnswers[currentTheory] = answer;
            localStorage.setItem(`theoryAnswer_${currentTheory}`, answer);
            updateTheoryStatus();
            alert("Theory answer saved successfully!");
        }
       
        function nextTheoryQuestion() {
            if (currentTheory < theoryQuestions.length - 1) {
                currentTheory++;
                displayTheoryQuestion();
            } else {
                alert("You've reached the last theory question.");
            }
        }
       
        function prevTheoryQuestion() {
            if (currentTheory > 0) {
                currentTheory--;
                displayTheoryQuestion();
            }
        }
       
        function submitTheoryExam() {
            const savedCount = theoryAnswers.filter(answer => answer.trim() !== "").length;
            const confirmSubmit = confirm(
                `Theory section completed!\n\n` +
                `You have answered ${savedCount} out of ${theoryQuestions.length} theory questions.\n\n` +
                `Are you sure you want to submit?`
            );
           
            if (confirmSubmit) {
                alert("Theory answers submitted successfully!");
            }
        }
       
        // ================== DATE & TIME ==================
        function updateDateTime() {
            let now = new Date();
            let day = now.getDate();
            let month = now.toLocaleString('default', { month: 'long' });
            let year = now.getFullYear();
            let suffix = "th";
           
            if (day === 1 || day === 21 || day === 31) suffix = "st";
            else if (day === 2 || day === 22) suffix = "nd";
            else if (day === 3 || day === 23) suffix = "rd";
           
            let hours = now.getHours();
            let minutes = now.getMinutes();
            let seconds = now.getSeconds();
            let ampm = hours >= 12 ? "PM" : "AM";
            hours = hours % 12 || 12;
            minutes = minutes < 10 ? "0" + minutes : minutes;
            seconds = seconds < 10 ? "0" + seconds : seconds;
           
            let formattedDateTime = `${month} ${day}${suffix} ${year}, ${hours}:${minutes}:${seconds} ${ampm}`;
            document.getElementById("datetime").innerText = formattedDateTime;
        }
       
        // ================== KEYBOARD SHORTCUTS ==================
        document.addEventListener('keydown', function (event) {
            if (currentSection === 'objectives') {
                const key = event.key.toUpperCase();
               
                // Answer selection for objectives
                if (['A', 'B', 'C', 'D'].includes(key)) {
                    const radio = document.querySelector(`input[name="option"][value="${key}"]`);
                    if (radio) {
                        radio.checked = true;
                        saveAnswer();
                    }
                }
               
                // Navigation with arrows
                if (event.key === 'ArrowRight') {
                    nextQuestion();
                } else if (event.key === 'ArrowLeft') {
                    prevQuestion();
                }
            } else if (currentSection === 'theory') {
                // Navigation for theory
                if (event.key === 'ArrowRight') {
                    nextTheoryQuestion();
                } else if (event.key === 'ArrowLeft') {
                    prevTheoryQuestion();
                }
               
                // Save with Ctrl+S
                if (event.ctrlKey && event.key === 's') {
                    event.preventDefault();
                    saveTheoryAnswer();
                }
            }
        });
       
        // ================== ANTI-CHEAT & LOGOUT ==================
        document.addEventListener('keydown', function (event) {
            const key = event.key.toLowerCase();
            if ((event.ctrlKey && (key === 'p' || key === 's')) && currentSection === 'objectives') {
                event.preventDefault();
                alert("Right-click and view source are disabled during examination.");
                return false;
            }
        });
       
        document.addEventListener('contextmenu', (event) => {
            event.preventDefault();
            alert("Right-click is disabled during examination.");
        });
       
        document.addEventListener('keydown', function (e) {
            if (e.key === 'F12' || (e.ctrlKey && e.shiftKey && e.key === 'I') ||
                (e.ctrlKey && e.shiftKey && e.key === 'J') || (e.ctrlKey && e.key === 'u')) {
                e.preventDefault();
                alert("Developer tools are disabled during examination.");
            }
        });
       
        function logout() {
            const confirmLogout = confirm("Are you sure you want to logout? Your progress may be lost.");
            if (confirmLogout) {
                window.location.href = "index.html";
            }
        }
    </script>
</body>
</html>
